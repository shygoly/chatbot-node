<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å•†å“å’¨è¯¢æ¼”ç¤º - EverShop æ™ºèƒ½å®¢æœ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .demo-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      color: white;
      margin-bottom: 30px;
    }

    .header h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }

    .header p {
      font-size: 18px;
      opacity: 0.9;
    }

    .main-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 30px;
    }

    @media (max-width: 1024px) {
      .main-content {
        grid-template-columns: 1fr;
      }
    }

    .store-section {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .store-section h2 {
      margin-bottom: 20px;
      color: #333;
      font-size: 24px;
    }

    .products {
      display: grid;
      gap: 20px;
    }

    .product-card {
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      transition: all 0.3s;
      cursor: pointer;
    }

    .product-card:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transform: translateY(-2px);
    }

    .product-header {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
    }

    .product-image {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      flex-shrink: 0;
    }

    .product-info {
      flex: 1;
    }

    .product-name {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 5px;
      color: #333;
    }

    .product-price {
      font-size: 24px;
      font-weight: bold;
      color: #e74c3c;
      margin-bottom: 5px;
    }

    .product-stock {
      font-size: 14px;
      color: #27ae60;
    }

    .product-stock.low {
      color: #e67e22;
    }

    .product-description {
      color: #666;
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    .ask-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      width: 100%;
      transition: all 0.3s;
    }

    .ask-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .chat-demo {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      position: sticky;
      top: 20px;
    }

    .chat-demo h2 {
      margin-bottom: 15px;
      color: #333;
      font-size: 24px;
    }

    .bot-info {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
      line-height: 1.6;
    }

    .bot-info strong {
      color: #667eea;
    }

    .quick-questions {
      margin-top: 20px;
    }

    .quick-questions h3 {
      font-size: 16px;
      margin-bottom: 10px;
      color: #555;
    }

    .question-btn {
      background: #f0f0f0;
      border: 1px solid #ddd;
      padding: 10px 15px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 13px;
      width: 100%;
      text-align: left;
      margin-bottom: 8px;
      transition: all 0.2s;
    }

    .question-btn:hover {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    .features {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      margin-top: 30px;
    }

    .features h2 {
      margin-bottom: 20px;
      color: #333;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .feature {
      padding: 20px;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 8px;
      text-align: center;
    }

    .feature-icon {
      font-size: 36px;
      margin-bottom: 10px;
    }

    .feature-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 5px;
      color: #333;
    }

    .feature-desc {
      font-size: 13px;
      color: #666;
      line-height: 1.5;
    }

    .status-bar {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      padding: 15px 30px;
      border-radius: 12px;
      margin-bottom: 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
    }

    .status-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #27ae60;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .language-badge {
      background: rgba(255, 255, 255, 0.3);
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .language-badge:hover {
      background: rgba(255, 255, 255, 0.5);
    }
  </style>
</head>
<body>
  <div class="demo-container">
    <div class="header">
      <h1>ğŸ›ï¸ EverShop æ™ºèƒ½å®¢æœæ¼”ç¤º</h1>
      <p>ä½“éªŒ AI é©±åŠ¨çš„å•†å“å’¨è¯¢ - å®æ—¶å“åº” â€¢ å¤šè¯­è¨€æ”¯æŒ â€¢ æ™ºèƒ½æ¨è</p>
    </div>

    <div class="status-bar">
      <div class="status-item">
        <div class="status-dot"></div>
        <span>Bot ID: 7566252531572473891</span>
      </div>
      <div class="status-item">
        <span>âš¡ WebSocket: å·²è¿æ¥</span>
      </div>
      <div class="status-item">
        <span class="language-badge" onclick="changeLanguage()">ğŸŒ ä¸­æ–‡ / EN / ES</span>
      </div>
    </div>

    <div class="main-content">
      <!-- å·¦ä¾§ï¼šå•†å“å±•ç¤º -->
      <div class="store-section">
        <h2>ğŸ“¦ çƒ­é—¨å•†å“</h2>
        
        <div class="products">
          <!-- Product 1 -->
          <div class="product-card">
            <div class="product-header">
              <div class="product-image">ğŸ“±</div>
              <div class="product-info">
                <div class="product-name">iPhone 15 Pro Max</div>
                <div class="product-price">Â¥9,999</div>
                <div class="product-stock">åº“å­˜å……è¶³ (50+ ä»¶)</div>
              </div>
            </div>
            <div class="product-description">
              æœ€æ–°æ¬¾ iPhoneï¼Œæ­è½½ A17 Pro èŠ¯ç‰‡ï¼Œ6.7è‹±å¯¸è¶…è§†ç½‘è†œ XDR æ˜¾ç¤ºå±ï¼Œé’›é‡‘å±è®¾è®¡ï¼ŒPro çº§ç›¸æœºç³»ç»Ÿã€‚æ”¯æŒ 5Gï¼Œç»­èˆªæ›´æŒä¹…ã€‚
            </div>
            <button class="ask-button" onclick="askAboutProduct('iPhone 15 Pro Max', 'ä»·æ ¼', 'é…ç½®')">
              ğŸ’¬ å’¨è¯¢æ­¤å•†å“
            </button>
          </div>

          <!-- Product 2 -->
          <div class="product-card">
            <div class="product-header">
              <div class="product-image">ğŸ’»</div>
              <div class="product-info">
                <div class="product-name">MacBook Pro 14å¯¸</div>
                <div class="product-price">Â¥14,999</div>
                <div class="product-stock">åº“å­˜å……è¶³ (30+ ä»¶)</div>
              </div>
            </div>
            <div class="product-description">
              æ­è½½ M3 Pro èŠ¯ç‰‡ï¼Œ14.2è‹±å¯¸ Liquid Retina XDR æ˜¾ç¤ºå±ï¼Œ18GB å†…å­˜ï¼Œ512GB SSDã€‚ä¸“ä¸ºä¸“ä¸šäººå£«æ‰“é€ ï¼Œæ€§èƒ½å¼ºåŠ²ã€‚
            </div>
            <button class="ask-button" onclick="askAboutProduct('MacBook Pro 14å¯¸', 'æ€§èƒ½', 'é…é€')">
              ğŸ’¬ å’¨è¯¢æ­¤å•†å“
            </button>
          </div>

          <!-- Product 3 -->
          <div class="product-card">
            <div class="product-header">
              <div class="product-image">ğŸ§</div>
              <div class="product-info">
                <div class="product-name">AirPods Pro ç¬¬äºŒä»£</div>
                <div class="product-price">Â¥1,899</div>
                <div class="product-stock low">åº“å­˜ç´§å¼  (ä»…å‰© 5 ä»¶)</div>
              </div>
            </div>
            <div class="product-description">
              ä¸»åŠ¨é™å™ªè€³æœºï¼Œæ­è½½ H2 èŠ¯ç‰‡ï¼Œç©ºé—´éŸ³é¢‘ï¼Œè‡ªé€‚åº”é€šé€æ¨¡å¼ï¼Œ30å°æ—¶ç»­èˆªã€‚MagSafe å……ç”µç›’ã€‚
            </div>
            <button class="ask-button" onclick="askAboutProduct('AirPods Pro', 'åº“å­˜', 'é™å™ªæ•ˆæœ')">
              ğŸ’¬ å’¨è¯¢æ­¤å•†å“
            </button>
          </div>

          <!-- Product 4 -->
          <div class="product-card">
            <div class="product-header">
              <div class="product-image">âŒš</div>
              <div class="product-info">
                <div class="product-name">Apple Watch Ultra 2</div>
                <div class="product-price">Â¥6,499</div>
                <div class="product-stock">åº“å­˜å……è¶³ (20+ ä»¶)</div>
              </div>
            </div>
            <div class="product-description">
              ä¸“ä¸šè¿åŠ¨æ‰‹è¡¨ï¼Œé’›é‡‘å±è¡¨å£³ï¼Œ49mm è¶…å¤§å±å¹•ï¼ŒåŒé¢‘GPSï¼Œ100ç±³é˜²æ°´ï¼Œç»­èˆªé•¿è¾¾ 36 å°æ—¶ã€‚
            </div>
            <button class="ask-button" onclick="askAboutProduct('Apple Watch Ultra 2', 'åŠŸèƒ½', 'ç»­èˆª')">
              ğŸ’¬ å’¨è¯¢æ­¤å•†å“
            </button>
          </div>
        </div>
      </div>

      <!-- å³ä¾§ï¼šAI æœºå™¨äººä¿¡æ¯ -->
      <div class="chat-demo">
        <h2>ğŸ¤– AI æ™ºèƒ½å®¢æœ</h2>
        
        <div class="bot-info">
          <strong>Bot ID:</strong> 7566252531572473891<br>
          <strong>Workspace:</strong> 7351411557182226472<br>
          <strong>åç§°:</strong> shop-bot-v2<br>
          <strong>ç±»å‹:</strong> ä¸“ä¸šç”µå•†å®¢æœ<br>
          <strong>èƒ½åŠ›:</strong> å•†å“å’¨è¯¢ã€åº“å­˜æŸ¥è¯¢ã€ä»·æ ¼è¯´æ˜ã€é€€æ¢è´§æ”¿ç­–ã€å¤šè¯­è¨€æ”¯æŒ
        </div>

        <div class="quick-questions">
          <h3>ğŸ’¡ å¿«é€Ÿå’¨è¯¢ç¤ºä¾‹ï¼š</h3>
          
          <button class="question-btn" onclick="askQuestion('iPhone 15 Pro Max æœ‰ä»€ä¹ˆé¢œè‰²ï¼Ÿ')">
            iPhone 15 Pro Max æœ‰ä»€ä¹ˆé¢œè‰²ï¼Ÿ
          </button>
          
          <button class="question-btn" onclick="askQuestion('MacBook Pro å’Œ MacBook Air æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ')">
            MacBook Pro å’Œ MacBook Air æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
          </button>
          
          <button class="question-btn" onclick="askQuestion('AirPods Pro çš„åº“å­˜è¿˜æœ‰å¤šå°‘ï¼Ÿ')">
            AirPods Pro çš„åº“å­˜è¿˜æœ‰å¤šå°‘ï¼Ÿ
          </button>
          
          <button class="question-btn" onclick="askQuestion('Apple Watch å¯ä»¥ç‹¬ç«‹æ‰“ç”µè¯å—ï¼Ÿ')">
            Apple Watch å¯ä»¥ç‹¬ç«‹æ‰“ç”µè¯å—ï¼Ÿ
          </button>
          
          <button class="question-btn" onclick="askQuestion('What is the return policy?')">
            What is the return policy? (English test)
          </button>
          
          <button class="question-btn" onclick="askQuestion('Â¿CuÃ¡l es el tiempo de entrega?')">
            Â¿CuÃ¡l es el tiempo de entrega? (Spanish test)
          </button>
        </div>

        <div style="margin-top: 25px; padding-top: 20px; border-top: 2px solid #e0e0e0;">
          <h3 style="font-size: 16px; margin-bottom: 15px; color: #555;">ğŸ¯ æµ‹è¯•åœºæ™¯</h3>
          
          <button class="question-btn" onclick="testScenario('price')">
            ğŸ’° ä»·æ ¼å’¨è¯¢åœºæ™¯
          </button>
          
          <button class="question-btn" onclick="testScenario('stock')">
            ğŸ“¦ åº“å­˜æŸ¥è¯¢åœºæ™¯
          </button>
          
          <button class="question-btn" onclick="testScenario('shipping')">
            ğŸšš é…é€å’¨è¯¢åœºæ™¯
          </button>
          
          <button class="question-btn" onclick="testScenario('return')">
            ğŸ”„ é€€æ¢è´§åœºæ™¯
          </button>
          
          <button class="question-btn" onclick="testScenario('multilang')">
            ğŸŒ å¤šè¯­è¨€åœºæ™¯ï¼ˆENâ†’ä¸­æ–‡â†’ESï¼‰
          </button>
        </div>
      </div>
    </div>

    <!-- åŠŸèƒ½ç‰¹æ€§ -->
    <div class="features">
      <h2>âœ¨ ç³»ç»ŸåŠŸèƒ½ç‰¹æ€§</h2>
      <div class="feature-grid">
        <div class="feature">
          <div class="feature-icon">âš¡</div>
          <div class="feature-title">å®æ—¶å“åº”</div>
          <div class="feature-desc">WebSocket æŠ€æœ¯ï¼Œ50ms æé€Ÿå“åº”</div>
        </div>
        
        <div class="feature">
          <div class="feature-icon">ğŸŒ</div>
          <div class="feature-title">å¤šè¯­è¨€æ”¯æŒ</div>
          <div class="feature-desc">è‹±è¯­ã€ä¸­æ–‡ã€è¥¿ç­ç‰™è¯­è‡ªåŠ¨æ£€æµ‹</div>
        </div>
        
        <div class="feature">
          <div class="feature-icon">âŒ¨ï¸</div>
          <div class="feature-title">æ‰“å­—æç¤º</div>
          <div class="feature-desc">å®æ—¶æ˜¾ç¤ºå¯¹æ–¹æ­£åœ¨è¾“å…¥</div>
        </div>
        
        <div class="feature">
          <div class="feature-icon">ğŸ”„</div>
          <div class="feature-title">è‡ªåŠ¨é‡è¿</div>
          <div class="feature-desc">ç½‘ç»œæ–­å¼€è‡ªåŠ¨æ¢å¤è¿æ¥</div>
        </div>
        
        <div class="feature">
          <div class="feature-icon">ğŸ¤–</div>
          <div class="feature-title">AI æ™ºèƒ½</div>
          <div class="feature-desc">Coze é©±åŠ¨çš„æ™ºèƒ½å¯¹è¯</div>
        </div>
        
        <div class="feature">
          <div class="feature-icon">ğŸ“Š</div>
          <div class="feature-title">æ•°æ®åˆ†æ</div>
          <div class="feature-desc">å®æ—¶æ€§èƒ½æŒ‡æ ‡å’Œè¶‹åŠ¿</div>
        </div>
      </div>
    </div>
  </div>

  <!-- èŠå¤©å°éƒ¨ä»¶ï¼ˆä½¿ç”¨çœŸå®çš„ bot IDï¼‰ -->
  <script src="/widget/chatbot-widget.js"
          data-api-url="http://localhost:3000"
          data-bot-id="7566252531572473891"
          data-shop-id="evershop-demo"
          data-position="bottom-right">
  </script>

  <script>
    // å’¨è¯¢ç‰¹å®šå•†å“
    function askAboutProduct(productName, topic1, topic2) {
      const question = `ä½ å¥½ï¼æˆ‘æƒ³äº†è§£ä¸€ä¸‹ ${productName}ï¼Œè¯·é—®${topic1}å’Œ${topic2}æ€ä¹ˆæ ·ï¼Ÿ`;
      
      if (window.ChatbotWidget) {
        window.ChatbotWidget.open();
        setTimeout(() => {
          window.ChatbotWidget.sendMessage(question);
        }, 500);
      }
    }

    // å‘é€é¢„è®¾é—®é¢˜
    function askQuestion(question) {
      if (window.ChatbotWidget) {
        window.ChatbotWidget.open();
        setTimeout(() => {
          window.ChatbotWidget.sendMessage(question);
        }, 500);
      }
    }

    // æµ‹è¯•åœºæ™¯
    function testScenario(scenario) {
      const scenarios = {
        price: [
          'ä½ å¥½ï¼',
          'è¯·é—® iPhone 15 Pro Max çš„ä»·æ ¼æ˜¯å¤šå°‘ï¼Ÿ',
          'æœ‰ä¼˜æƒ æ´»åŠ¨å—ï¼Ÿ',
          'å¯ä»¥åˆ†æœŸä»˜æ¬¾å—ï¼Ÿ'
        ],
        stock: [
          'ä½ å¥½ï¼',
          'AirPods Pro è¿˜æœ‰åº“å­˜å—ï¼Ÿ',
          'ä»€ä¹ˆæ—¶å€™èƒ½è¡¥è´§ï¼Ÿ',
          'å¯ä»¥é¢„è®¢å—ï¼Ÿ'
        ],
        shipping: [
          'Hi! Where do you ship to?',
          'How long does delivery take?',
          'Do you offer express shipping?',
          'What is the shipping cost?'
        ],
        return: [
          'é€€æ¢è´§æ”¿ç­–æ˜¯æ€æ ·çš„ï¼Ÿ',
          'é€€è´§éœ€è¦å¤šä¹…å¤„ç†ï¼Ÿ',
          'è¿è´¹è°æ‰¿æ‹…ï¼Ÿ'
        ],
        multilang: [
          'Hello! Tell me about iPhone.',
          'èƒ½ç”¨ä¸­æ–‡ä»‹ç»ä¸€ä¸‹å—ï¼Ÿ',
          'Â¿CuÃ¡nto cuesta el MacBook?',
          'éå¸¸æ„Ÿè°¢ï¼Thank you!'
        ]
      };

      const messages = scenarios[scenario] || scenarios.price;
      
      if (window.ChatbotWidget) {
        window.ChatbotWidget.open();
        
        // é€æ¡å‘é€æ¶ˆæ¯ï¼ˆé—´éš” 3 ç§’ï¼‰
        messages.forEach((msg, index) => {
          setTimeout(() => {
            window.ChatbotWidget.sendMessage(msg);
          }, index * 3000 + 500);
        });
      }
    }

    // è¯­è¨€åˆ‡æ¢
    let currentLang = 0;
    const langs = ['ä¸­æ–‡', 'EN', 'ES'];
    function changeLanguage() {
      currentLang = (currentLang + 1) % langs.length;
      document.querySelector('.language-badge').textContent = `ğŸŒ ${langs[currentLang]}`;
      
      // å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šåˆ‡æ¢ widget çš„è¯­è¨€
      if (typeof widgetI18n !== 'undefined') {
        const langCodes = ['zh-CN', 'en', 'es'];
        widgetI18n.setLanguage(langCodes[currentLang]);
      }
    }

    // é¡µé¢åŠ è½½å®Œæˆ
    window.addEventListener('load', function() {
      console.log('ğŸ‰ å•†å“å’¨è¯¢æ¼”ç¤ºé¡µé¢åŠ è½½å®Œæˆï¼');
      console.log('ğŸ“ ä½¿ç”¨ Coze Bot ID: 7566252531572473891');
      console.log('ğŸŒ æ”¯æŒå¤šè¯­è¨€ï¼šä¸­æ–‡ã€Englishã€EspaÃ±ol');
      console.log('âš¡ WebSocket å®æ—¶é€šä¿¡å·²å¯ç”¨');
      
      // æ˜¾ç¤ºæ¬¢è¿æç¤º
      setTimeout(() => {
        if (confirm('ğŸ‘‹ æ¬¢è¿ï¼\n\næ˜¯å¦å¼€å§‹ä¸€ä¸ªç¤ºä¾‹å¯¹è¯ï¼Ÿ\næˆ‘å°†æ¼”ç¤ºå¦‚ä½•å’¨è¯¢ iPhone 15 Pro Max çš„ä»·æ ¼å’Œé…ç½®ã€‚')) {
          testScenario('price');
        }
      }, 1000);
    });
  </script>
</body>
</html>

